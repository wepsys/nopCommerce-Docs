---
title: Installing on Linux
uid: es/installation-and-upgrading/installing-nopcommerce/installing-on-linux
author: git.AndreiMaz
contributors: git.skoshelev
---

# Instalación en Linux

Este capítulo describe cómo instalar el software nopCommerce en el sistema Linux en el ejemplo de XUbuntu 20.04:

1. [Instalar y configurar el software](#install-and-configure-software)
1. [Obtener nopCommerce](#get-nopcommerce)
1. [Crear y configurar el servicio web de nopCommerce](#create-the-nopcommerce-service)
1. [Solución de problemas](#troubleshooting)

## Instalar y configurar el software

Antes de instalar .NET Core, tendremos que registrar la clave de Microsoft e instalar las dependencias necesarias. Esto debe hacerse una vez por máquina.

### Register Microsoft key and feed

Abra un terminal y ejecute los siguientes comandos:

`wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb`

`sudo dpkg -i packages-microsoft-prod.deb`

![nopCommerce installation](_static/installing-on-linux/register_key.jpg)

### Instalar el tiempo de ejecución de .NET Core

Actualice los productos disponibles para la instalación y, a continuación, instale el tiempo de ejecución de .NET:

`sudo apt-get update`

`sudo apt-get install apt-transport-https aspnetcore-runtime-3.1`

![nopCommerce installation](_static/installing-on-linux/net_core.jpg)

> [!NOTE]
> 
> Si tiene algún error consulte la información detallada en el https://docs.microsoft.com/en-us/dotnet/core/install/linux-package-manager-ubuntu-2004#troubleshoot-the-package-manager page.

Puede ver todos los tiempos de ejecución de .Net Core instalados mediante el siguiente comando:

`dotnet --list-runtimes`

![nopCommerce installation](_static/installing-on-linux/list_runtimes.jpg)

### Instalar el servidor MySql

Instalar el servidor MySql versión 8.0

`sudo apt-get install mysql-server`

![nopCommerce installation](_static/installing-on-linux/install_mysql.jpg)

Por defecto, la contraseña de root está vacía, vamos a establecerla

`sudo /usr/bin/mysql_secure_installation`

![nopCommerce installation](_static/installing-on-linux/config_mysql.jpg)

> [!NOTE]
> 
> Si tienes algún problema con la configuración de la contraseña de root en tu servidor MySql, por favor lee los siguientes artículos:
> https://dev.mysql.com/doc/refman/8.0/en/resetting-permissions.html and
https://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost.

### Instalar nginx

Instalar el paquete nginx:

`sudo apt-get install nginx`

![Instalación de nopCommerce](_static/installing-on-linux/install_nginx.jpg)

Run the nginx service:

`sudo systemctl start nginx`

and check its status:

`sudo systemctl status nginx`

![nopCommerce installation](_static/installing-on-linux/status_nginx.jpg)

Para configurar nginx como proxy inverso para reenviar las peticiones a su aplicación ASP.NET Core, modifique /etc/nginx/sites-available/default. Ábrelo en un editor de texto y sustituye el contenido por lo siguiente:

```
# Default server configuration
#
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    server_name   nopCommerce-430.com;

    location / {
    proxy_pass         http://localhost:5000;
    proxy_http_version 1.1;
    proxy_set_header   Upgrade $http_upgrade;
    proxy_set_header   Connection keep-alive;
    proxy_set_header   Host $host;
    proxy_cache_bypass $http_upgrade;
    proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header   X-Forwarded-Proto $scheme;
    }

    # SSL configuration
    #
    # listen 443 ssl default_server;
    # listen [::]:443 ssl default_server;
    #
    # Note: You should disable gzip for SSL traffic.
    # See: https://bugs.debian.org/773332
    #
    # Read up on ssl_ciphers to ensure a secure configuration.
    # See: https://bugs.debian.org/765782
    #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;
}
```

## Obtener nopCommerce

Crear un directorio

`mkdir /var/www/nopCommerce430`

Descargue y desempaque el nopCommerce:

`cd /var/www/nopCommerce430`

`sudo wget https://github.com/nopSolutions/nopCommerce/releases/download/release-4.30/nopCommerce_4.30_NoSource_linux_x64.zip`

`sudo apt-get install unzip`

`sudo unzip nopCommerce_4.30_NoSource_linux_x64.zip`

Crear un par de directorios para ejecutar nopCommerce:

`sudo mkdir bin`

`sudo mkdir logs`

Change the file permissions

`cd ..`

`sudo chgrp -R www-data nopCommerce430/`

`sudo chown -R www-data nopCommerce430/`

## Create the nopCommerce service

Create the /etc/systemd/system/nopCommerce430.service file with the following contents:

```
[Unit]
Description=Example nopCommerce app running on XUbuntu

[Service]
WorkingDirectory=/var/www/nopCommerce430
ExecStart=/usr/bin/dotnet /var/www/nopCommerce430/Nop.Web.dll
Restart=always
# Restart service after 10 seconds if the dotnet service crashes:
RestartSec=10
KillSignal=SIGINT
SyslogIdentifier=nopCommerce430-example
User=www-data
Environment=ASPNETCORE_ENVIRONMENT=Production
Environment=DOTNET_PRINT_TELEMETRY_MESSAGE=false

[Install]
WantedBy=multi-user.target
```

Start the service

`sudo systemctl start nopCommerce430.service`

Check the nopCommerce service status

`sudo systemctl status nopCommerce430.service`

![nopCommerce installation](_static/installing-on-linux/status_nopCommerce.jpg)

Restart the nginx server

`sudo systemctl restart nginx`

**Ahora todo está listo, puede proceder a instalar y configurar la tienda**

## Solución de problemas

### Gdip

*Si tiene un problema con la carga de imágenes en el cuadro de texto enriquecido (el inicializador de tipo para 'Gdip' lanzó una excepción) simplemente instale la biblioteca libgdiplus*:

*`sudo apt-get install libgdiplus`*

### SSL

*Si quieres usar SSL en tu sitio no olvides configurar `true` el `UseHttpXForwardedProto` en el **appsettings.json** file*.
